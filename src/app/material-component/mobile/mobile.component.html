<div fxLayout="row" fxLayoutWrap="wrap">
    <div fxFlex.gt-sm="100%" fxFlex="100">
      <mat-card>
        <mat-card-content>
          <form class="date-block" [formGroup]="filterForm">
            <div class="date-block__list">
              <mat-form-field>
                <input matInput [matDatepicker]="fromDate" placeholder="From Date" formControlName="fromDate">
                <mat-datepicker-toggle matSuffix [for]="fromDate"></mat-datepicker-toggle>
                <mat-datepicker #fromDate></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="date-block__list">
              <mat-form-field>
                <input matInput [matDatepicker]="toDate" placeholder="To Date" formControlName="toDate">
                <mat-datepicker-toggle matSuffix [for]="toDate"></mat-datepicker-toggle>
                <mat-datepicker #toDate></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="example-button-row">
              <button mat-raised-button color="primary" (click)="applyFilter()">Submit</button>
              <button mat-raised-button color="warn"  (click)="getDataNow()">Get Data</button>
            </div>
          </form>
  
          <h6>Total registros: {{ time.length }}</h6>
           
          <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  
            <!--- Note that these columns can be defined in any order.
            The actual rendered columns are set as a property on the row definition" -->
  
            <!-- first_render_time Column -->
            <ng-container matColumnDef="first_render_time">
              <th mat-header-cell *matHeaderCellDef> First Render T. </th>
              <td mat-cell *matCellDef="let element"> {{element.first_render_time * 0.001| number:'1.1-2'}} s</td>
            </ng-container>
  
  
            <!-- total_load_time Column -->
            <ng-container matColumnDef="total_load_time">
              <th mat-header-cell *matHeaderCellDef> Total Load T. </th>
              <td mat-cell *matCellDef="let element"> {{element.total_load_time * 0.001| number:'1.1-2'}} s</td>
            </ng-container>
  
            <!-- device Column -->
            <ng-container matColumnDef="device">
              <th mat-header-cell *matHeaderCellDef> Device </th>
              <td mat-cell *matCellDef="let element"> {{element.device}} </td>
            </ng-container>
  
            <!-- total_size Column -->
            <ng-container matColumnDef="total_size">
              <th mat-header-cell *matHeaderCellDef> Total size </th>
              <td mat-cell *matCellDef="let element"> {{element.total_size*0.000001 | number:'1.1-2'}} mb</td>
            </ng-container>
  
            <!-- request Column -->
            <ng-container matColumnDef="request">
              <th mat-header-cell *matHeaderCellDef> Requests </th>
              <td mat-cell *matCellDef="let element"> {{element.request}}</td>
            </ng-container>
  
            <!-- locale Column -->
            <ng-container matColumnDef="locale">
              <th mat-header-cell *matHeaderCellDef> locale </th>
              <td mat-cell *matCellDef="let element"> {{element.locale}} </td>
            </ng-container>
            
            <!-- platform Column -->
            <ng-container matColumnDef="platform">
              <th mat-header-cell *matHeaderCellDef> Platform </th>
              <td mat-cell *matCellDef="let element"> {{element.platform}} </td>
            </ng-container>
            
            <!-- score Column -->
            <ng-container matColumnDef="score">
              <th mat-header-cell *matHeaderCellDef> Score </th>
              <td mat-cell *matCellDef="let element"> {{element.score}} </td>
            </ng-container>
  
            <!-- created Column -->
            <ng-container matColumnDef="created">
              <th mat-header-cell *matHeaderCellDef> Created </th>
              <td mat-cell *matCellDef="let element"> {{element.created | date:'dd-MM-yy HH:mm'}}</td>
            </ng-container>
  
  
            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
  
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  
  
  <mat-card>
    <mat-card-content>
      <mat-card-title>Tabla</mat-card-title>
  
      <div style="display: block;" *ngIf="barChartData" >
        <canvas baseChart width="500" height="200"
        [datasets]="lineChartData"
        [labels]="lineChartLabels"
        [options]="lineChartOptions"
        [colors]="lineChartColors"
        [legend]="lineChartLegend"
        [chartType]="lineChartType"
        [plugins]="lineChartPlugins">
      </canvas>
      </div>
  
    </mat-card-content>
  </mat-card>
  
  <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }" [template]="customLoadingTemplate"></ngx-loading>
